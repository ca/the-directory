<!DOCTYPE html>
<html lang="en">
    <head>
        {{>head}}
    </head>

    <body>
        <!-- header -->
        <div id="header-fix" class="header fixed-top">
            {{>nav}}
        </div>
        <!--End header -->

        <!-- Page Inner -->
        <section class="lis-bg-light pb-5">
            <div class="container pt-5">
                <div class="row wow fadeInUp">
                    <div class="col-12 col-sm-6">
                        <div class="page-title">
                            <h2>Add Listing</h2>
                            <p class="mb-0">Add a new business to The Directory</p>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6 text-left text-sm-right">
                        <ol class="breadcrumb mb-0 pl-0 bg-transparent">
                            <li class="breadcrumb-item d-inline-block float-none"><a href="#" class="lis-light">Home</a></li>
                            <li class="breadcrumb-item d-inline-block float-none active">Add Listing</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>
        <!--End Page Inner -->
        <!-- Pricing -->
        <section id="add-listing">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-12 col-lg-9 mb-5 mb-lg-0">

                        <div class="card lis-brd-light wow fadeInUp" style="visibility: visible; animation-name: fadeInUp;">
                            <div class="card-body p-0">
                                <form method="post" action="/api/listing">
                                    <!-- Industries & Tags -->
                                    <div class="row p-4">
                                        <div class="col-12 col-sm-12 mb-3">
                                            <h6 class="lis-font-weight-500"><i class="fa fa-tag pr-2 lis-f-14"></i>  Industry &amp; Tags</h6>
                                        </div>
                                        <div class="col-12 col-sm-12">
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-2 col-form-label">Industry</label>
                                                <div class="col-12 col-md-10">
                                                    <select class="form-control border-top-0 border-left-0 border-right-0 rounded-0" id="industry" name="industry">
                                                        <option selected>Select Industry</option>
                                                        <option value="business">Business</option>
                                                        <option value="technology">Technology</option>
                                                        <option value="restaurant">Restaurant</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <!-- <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-2 col-form-label">Tags (optional)</label>
                                                <div class="col-12 col-md-10">
                                                    <select class="form-control border-top-0 border-left-0 border-right-0 rounded-0" id="tags" name="tags">
                                                        <option selected>Add Tag</option>
                                                        <option value="1">One</option>
                                                        <option value="2">Two</option>
                                                        <option value="3">Three</option>
                                                    </select>
                                                </div>
                                            </div> -->

                                        </div>
                                    </div>
                                    <hr/>
                                    <!-- Name & Description -->
                                    <div class="row p-4">
                                        <div class="col-12 col-sm-12 mb-3">
                                            <h6 class="lis-font-weight-500"><i class="fa fa-align-left pr-2 lis-f-14"></i>  Name &amp; Description </h6>
                                        </div>
                                        <div class="col-12 col-sm-12">
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-2 col-form-label">Title</label>
                                                <div class="col-12 col-md-10">
                                                    <input class="form-control border-top-0 border-left-0 border-right-0 rounded-0" type="text" placeholder="Your listing name" value="" id="title" name="name">
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-2 col-form-label">Tagline</label>
                                                <div class="col-12 col-md-10">
                                                    <input class="form-control border-top-0 border-left-0 border-right-0 rounded-0" type="text" placeholder="Say something catchy!" value="" id="tagling" name="tagline">
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-2 col-form-label">Description</label>
                                                <div class="col-12 col-md-10">
                                                    <textarea class="form-control border-top-0 border-left-0 border-right-0 rounded-0" placeholder="Type listing description" id="description" name="description"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr/>
                                    <!-- Images -->
                                    <div class="row p-4">
                                        <div class="col-12 col-sm-12 mb-3">
                                            <h6 class="lis-font-weight-500"><i class="fa fa-file-image-o pr-2 lis-f-14"></i> Images </h6>
                                        </div>
                                        <div class="col-12 col-sm-12">
                                            <div class="form-group row logo-upload">
                                                <label for="example-text-input" class="col-12 col-md-3 col-form-label">Logo</label>
                                                <div class="col-12 col-md-9" id="logo-image">
                                                    <img id="li">
                                                    <button type="button" id="logo-uploader" class="btn btn-primary btn-default">Upload Image</button>
                                                </div>
                                            </div>
                                            <div class="form-group row cover-upload">
                                                <label for="example-text-input" class="col-12 col-md-3 col-form-label">Cover Image</label>
                                                <div class="col-12 col-md-9" id="cover-image">
                                                    <img id="ci">
                                                    <button type="button" id="cover-uploader" class="btn btn-primary btn-default">Upload Image</button>
                                                </div>
                                            </div>
                                            <!-- <div class="form-group row gallery-upload">
                                                <label for="example-text-input" class="col-12 col-md-3 col-form-label">Gallery Images (optional)</label>
                                                <div class="col-12 col-md-9" id="gallery-images">
                                                    <button type="button" id="gallery-uploader" class="btn btn-primary btn-default">Upload Image</button>
                                                </div>
                                            </div> -->
                                        </div>
                                    </div>
                                    <hr/>
                                    <!-- Contact Information -->
                                    <div class="row p-4">
                                        <div class="col-12 col-sm-12 mb-3">
                                            <h6 class="lis-font-weight-500"><i class="fa fa-info-circle pr-2 lis-f-14"></i>  Contact Information </h6>
                                        </div>
                                        <div class="col-12 col-sm-12">
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-3 col-form-label">Email</label>
                                                <div class="col-12 col-md-9">
                                                    <input class="form-control border-top-0 border-left-0 border-right-0 rounded-0" placeholder="Your email address" type="text" value="" id="email" name="email">
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-3 col-form-label">Phone number (optional)</label>
                                                <div class="col-12 col-md-9">
                                                    <input class="form-control border-top-0 border-left-0 border-right-0 rounded-0" type="text" placeholder="Your phone number" value="" id="phone" name="phone">
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-3 col-form-label">Website (optional)</label>
                                                <div class="col-12 col-md-9">
                                                    <input class="form-control border-top-0 border-left-0 border-right-0 rounded-0" type="text" placeholder="Your website address" value="" id="website" name="website">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr/>
                                    <!-- Social -->
                                    <div class="row p-4">
                                        <div class="col-12 col-sm-12 mb-3">
                                            <h6 class="lis-font-weight-500"><i class="fa fa-share-alt pr-2 lis-f-14"></i>  Social</h6>
                                        </div>
                                        <div class="col-12 col-sm-12 social-information">
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-2 col-form-label">Twitter</label>
                                                <div class="col-12 col-md-9">
                                                    <input class="form-control border-top-0 border-left-0 border-right-0 rounded-0" placeholder="Enter url..." type="text" value="" id="twitter" name="twitter">
                                                </div>
                                                <div class="col-12 col-md-1">
                                                    <a href="#" class="btn btn-primary trash"><i class="fa fa-trash  lis-f-14"></i></a>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-2 col-form-label">Facebook</label>
                                                <div class="col-12 col-md-9">
                                                    <input class="form-control border-top-0 border-left-0 border-right-0 rounded-0" placeholder="Enter url..." type="text" value="" id="facebook" name="facebook">
                                                </div>
                                                <div class="col-12 col-md-1">
                                                    <a href="#" class="btn btn-primary trash"><i class="fa fa-trash  lis-f-14"></i></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr/>
                                    <!-- Categories -->
                                    <!-- <div class="row p-4">
                                        <div class="col-12 col-sm-12 mb-3">
                                            <h6 class="lis-font-weight-500"><i class="fa fa-link pr-2 lis-f-14"></i>  Categories</h6>
                                        </div>
                                        <div class="col-12 col-sm-12 social-information">
                                            <div class="form-group row">
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Car Parking
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Accepted Bank Cards
                                                        <input type="checkbox" checked="checked">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Wheelchair Accessible
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Smoking Allowed
                                                        <input type="checkbox" checked="checked">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Events
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Good for Kids
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Wireless Internet
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Friendly Workspace
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Outdoor Seating
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Elevator in Building
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Street Parking
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span>
                                                    </label>

                                                </div>
                                                <div class="col-12 col-md-4">
                                                    <label class="custom-checkbox">Takes Reservations
                                                        <input type="checkbox" checked="checked">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr/> -->
                                    <!-- Location -->
                                    <div class="row p-4">
                                        <div class="col-12 col-sm-12 mb-3">
                                            <h6 class="lis-font-weight-500"><i class="fa fa-map-o pr-2 lis-f-14"></i>  Location </h6>
                                        </div>
                                        <div class="col-12 col-sm-12">
                                            <div class="form-group row">
                                                <label for="example-text-input" class="col-12 col-md-2 col-form-label">Address</label>
                                                <div class="col-12 col-md-10">
                                                    <input class="form-control border-top-0 border-left-0 border-right-0 rounded-0" placeholder="e.g. 2438 Progress Way, Donnelly, MN, 56235" type="text" value=""  id="address" name="address">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr/>
                                    <!-- Submit -->
                                    <div class="row p-4">
                                        <div class="col-12 col-sm-12">
                                            <button type="submit" class="btn btn-primary btn-default mt-3"> Submit</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>
        <!--End Pricing -->
        {{>footer}}
        {{>modals}}
        {{>imports}}
        <script type="text/javascript">
            var turbo = Turbo({site_id: '5a3a9e6f474aba0014925c08'})
            $('#logo-uploader').click(() => {
                console.log('#LOGO')
                $uploader = $('#li');
                $name="logo";

                turbo.uploadFile((err, data) => {
                    console.log(this)
                    if (err){
                      alert('File Upload Error: ' + err.message)
                      return
                    }

                    if (data.confirmation != 'success'){
                      alert('Error: ' + data.message)
                      return
                    }

                    var file = data.result;
                    // Set the image so the user knows it's uploaded
                    // $(event.target).parent().prepend("TEST");
                    $uploader.attr('src', file.url+'=s80-c')
                    
                    // Set the input value so the url is submitted
                    $uploader.after('<input name="'+$name+'" value="'+file.url+'" style="display:none">')
                })
            })

            $('#cover-uploader').click(() => {
                console.log('#COVER')
                $uploader = $('#ci');
                $name = "cover";
                turbo.uploadFile((err, data) => {
                    console.log('#COVER')
                    if (err){
                      alert('File Upload Error: ' + err.message)
                      return
                    }

                    if (data.confirmation != 'success'){
                      alert('Error: ' + data.message)
                      return
                    }

                    var file = data.result;
                    // Set the image so the user knows it's uploaded
                    $uploader.attr('src', file.url+'=s80-c')
                    
                    // Set the input value so the url is submitted
                    $uploader.after('<input name="'+$name+'" value="'+file.url+'" style="display:none">')
                })
            })

            // $('#gallery-uploader').click(() => {
            //     console.log('#GALLERY')
            //     turbo.uploadFile((err, data) => {
            //         console.log('#GALLERY')
            //         if (err){
            //           alert('File Upload Error: ' + err.message)
            //           return
            //         }

            //         if (data.confirmation != 'success'){
            //           alert('Error: ' + data.message)
            //           return
            //         }

            //         var file = data.result;
            //         // Set the image so the user knows it's uploaded
            //         $('#gallery-images').prepend('<img src="'+file.url+'=s80-c">')
                    
            //         // Set the input value so the url is submitted
            //         $('#gallery-images').append('<input name="gallery[]" value="'+file.url+'" style="display:none">')
            //     })
            // });
        </script>
    </body>
</html>